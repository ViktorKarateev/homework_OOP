# Homework OOP

##  Описание
Проект по изучению объектно-ориентированного программирования (OOP) на Python.  
Добавлены классы `Product` и `Category` с различными методами и функционалом.

---

##  Функциональность проекта

###  **1. Класс `Product`**
Класс `Product` отвечает за представление товаров и включает в себя:
- **Название товара (`name`)**  
- **Описание (`description`)**  
- **Цена (`price`)**  
- **Количество на складе (`quantity`)**  

Теперь в классе `Product` добавлены:
- **Приватный атрибут `__price`** (цена товара защищена от прямого изменения).  
- **Геттер `@property price`** → возвращает цену товара.  
- **Сеттер `@price.setter`** → защищает цену от отрицательных значений.  
- **Метод `new_product()`** → создаёт новый продукт из словаря, проверяет дубликаты.  

---

###  **2. Класс `Category`**
Класс `Category` отвечает за категории товаров и включает:
- **Название категории (`name`)**  
- **Описание (`description`)**  
- **Список товаров (`products`)**  

Теперь в классе `Category` добавлены:
- **Приватный атрибут `__products`** (список товаров защищен от прямого изменения).  
- **Метод `add_product()`** → добавляет новый продукт в категорию и увеличивает счётчик товаров.  
- **Геттер `@property products`** → возвращает список товаров в виде форматированной строки.  

---

##  Новая функциональность (Task 2)

###  **1. Приватные атрибуты и методы**
- Атрибут `products` в классе `Category` теперь **приватный** (`self.__products`).
- Атрибут `price` в классе `Product` теперь **приватный** (`self.__price`).

###  **2. Геттеры и сеттеры**
- `@property products` в `Category` → форматированный список товаров.
- `@property price` в `Product` → геттер для приватного `__price`.
- `@price.setter` в `Product` → защищает цену от нулевых и отрицательных значений.

###  **3. Новый метод `add_product()`**
- Позволяет **добавлять** товары в категорию.
- Увеличивает счётчик товаров `product_count`.

###  **4. Класс-метод `new_product()`**
- Позволяет **создавать новый товар из словаря**.
- Если товар уже есть в списке → **увеличивает количество и выбирает максимальную цену**.

###  **5. Улучшена загрузка данных**
- **Добавлена обработка пути к JSON (`products.json`)**.
- Теперь `main.py` корректно работает вне зависимости от места запуска.

###  **6. Написаны тесты**
- **Проверки для `add_product()`, `new_product()`, `price.setter`**.
- **Исправлен тест `test_category_initialization`**.
- **Все тесты успешно проходят (`pytest`).**

---

##  Запуск проекта
```bash
poetry install  # Установка зависимостей
poetry run python src/main.py  # Запуск программы
poetry run pytest  # Запуск тестов

